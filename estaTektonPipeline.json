{
  "$schema": "https://clew-resources.sbb-cloud.net/tekton-schema.json",
  "productName": "add-your-name-here",
  "npm": {
    "targetRepo": "atlas.npm",
    "packageJson": "frontend/package.json",
    "additionalNpmScripts": "lint build:ngssc test"
  },
  "mvn": {
    "parentPom": "pom.xml",
    "deployableArtifactsPom": "pom.xml",
    "artifactoryMavenRepo": "atlas.mvn"
  },
  "docker": [
    {
      "dockerFile": "line-directory/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "business-organisation-directory/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "mail/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "scheduling/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "gateway/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "frontend/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "user-administration/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    },
    {
      "dockerFile": "workflow/docker/Dockerfile",
      "artifactoryDockerRepo": "atlas.docker"
    }
  ],
  "helm": {
    "chartName": "atlas",
    "chartRootFolder": "./charts",
    "chartRepository": "atlas.helm"
  },
  "pipelines": [
    {
      "name": "continuous",
      "triggerType": [
        "GITEVENT"
      ],
      "branchNamePrefixes": [
        "feature",
        "bugfix"
      ],
      "build": {
        "buildDockerImage": false,
        "additionalBuildParams": "-Dskip.npm.exec.ci=false -Dskip.npm.exec.build=false",
        "sonarScan": {
          "enabled": true,
          "additionalParams": "-DskipTests=true -Dskip.npm.exec.ci=true -Dskip.npm.exec.build=true -Dskip.npm.exec.publish=true -DskipITs -Dsonar.exclusions=**/node_modules/**,**/src/app/api/**,**/*.spec.ts,**/*.module.ts,**/*.routes.ts,**/karma.conf.js,**/instana.js,**/polyfills.ts"
        }
      }
    },
    {
      "name": "release",
      "triggerType": [
        "GITEVENT"
      ],
      "versionTagEventPatterns": [
        "^(\\d+\\.)?(\\d+\\.)?(\\*|\\d+)$"
      ],
      "build": {
        "buildDockerImage": true,
        "additionalBuildParams": "-Dskip.npm.exec.ci=false -Dskip.npm.exec.build=false -Dskip.npm.exec.publish=false -DskipITs",
        "sonarScan": {
          "enabled": true,
          "additionalParams": "-DskipTests=true -Dskip.npm.exec.ci=true -Dskip.npm.exec.build=true -Dskip.npm.exec.publish=true -DskipITs -Dsonar.exclusions=**/node_modules/**,**/src/app/api/**,**/*.spec.ts,**/*.module.ts,**/*.routes.ts,**/karma.conf.js,**/instana.js,**/polyfills.ts"
        },
        "owaspDependencyCheck": {
          "enabled": true
        }
      },
      "stages": [
        "dev"
      ]
    }
  ],
  "stages": [
    {
      "stageName": "dev",
      "argoCD": {
        "argoCdAppName": "your-dev-app-name",
        "autoSync": true
      }
    },
    {
      "stageName": "test",
      "argoCD": {
        "argoCdAppName": "your-test-app-name",
        "autoSync": true
      }
    },
    {
      "stageName": "int",
      "argoCD": {
        "argoCdAppName": "your-int-app-name",
        "autoSync": true
      }
    },
    {
      "stageName": "prod",
      "argoCD": {
        "argoCdAppName": "your-prod-app-name",
        "autoSync": true
      }
    }
  ],
  "notifications": [
    {
      "type": "TEAMS",
      "enabled": true,
      "eventTypes": [
        "SUCCESS",
        "FAILURE",
        "ABORTED"
      ],
      "webhookUrl": "https://sbb.webhook.office.com/webhookb2/e262e9dc-5836-4c36-b3e5-0e827f2a2787@2cda5d11-f0ac-46b3-967d-af1b2e1bd01a/JenkinsCI/1d957b31eb2c46aeac8003d5a70e1926/8231c64b-bcb4-497e-93bf-0213ebdac9e4"
    }
  ]
}