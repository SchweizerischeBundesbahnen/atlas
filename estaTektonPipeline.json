{
  "$schema": "https://clew-resources.sbb-cloud.net/tekton-schema.json",
  "productName": "timetable-field-number-backend",
  "mvn": {
    "parentPom": "pom.xml",
    "deployableArtifactsPom": "pom.xml",
    "artifactoryMavenRepo": "atlas.mvn"
  },
  "docker": {
    "artifactoryDockerRepo": "atlas.docker",
    "openshiftAppName": "timetable-field-number-backend-tekton"
  },
  "stages": [
    {
      "stageName": "dev",
      "argoCD": {
        "autoSync": false
      }
    }
  ],
  "steps": [
    {
      "name": "continuous",
      "enabled": true,
      "buildDockerImage": false,
      "additionalBuildParams": "-DskipITs",
      "triggerType": [
        "USER",
        "GITEVENT"
      ],
      "branchNamePrefixes": [
        "feature",
        "hotfix"
      ]
    },
    {
      "name": "latest",
      "enabled": true,
      "buildDockerImage": true,
      "additionalBuildParams": "-DskipITs",
      "triggerType": [
        "USER"
      ],
      "branchNamePrefixes": [
        "master"
      ]
    },
    {
      "name": "release",
      "enabled": true,
      "buildDockerImage": true,
      "packageAndDeployHelmChart": true,
      "additionalBuildParams": "-DskipITs",
      "triggerType": [
        "GITEVENT"
      ],
      "versionTagEventPatterns": [
        "^(\\d+\\.)?(\\d+\\.)?(\\*|\\d+)$"
      ]
    },
    {
      "name": "snapshot",
      "enabled": true,
      "buildDockerImage": true,
      "packageAndDeployHelmChart": true,
      "additionalBuildParams": "-DskipITs",
      "triggerType": [
        "GITEVENT",
        "USER"
      ],
      "versionTagEventPatterns": [
        "^(\\d+\\.)?(\\d+\\.)?(\\*|\\d+)-rev\\.(.+)"
      ]
    }
  ],
  "notifications": [
    {
      "type": "EMAIL",
      "sendingEnabled": true,
      "recipients": ["$actor"]
    },
    {
      "type": "TEAMS",
      "sendingEnabled": true,
      "webhookUrl": "https://sbb.webhook.office.com/webhookb2/e262e9dc-5836-4c36-b3e5-0e827f2a2787@2cda5d11-f0ac-46b3-967d-af1b2e1bd01a/JenkinsCI/1d957b31eb2c46aeac8003d5a70e1926/8231c64b-bcb4-497e-93bf-0213ebdac9e4"
    }
  ]
}

