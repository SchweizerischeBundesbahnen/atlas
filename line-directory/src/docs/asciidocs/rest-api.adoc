= ATLAS - LiDi API Guide
:doctype: book
:compat-mode:
:page-layout!:
:toc: left
:toclevels: 1
:sectanchors:
:sectlinks:
:linkattrs:
:icons: font
:table-caption!:
:source-highlighter: highlightjs
:highlightjsdir: highlight
:revnumber: {version}

[[abstract]]
= Overview

=== Project information

[width="60%" cols="18%,35%" ]
|=================================
|Application Name | {name}
|Version | {version}
|Build-Time| {buildTime}
|=================================

=== Developer Portal

This API is available as a part of the ATLAS API on the SBB developer portal.

- Production: https://developer.sbb.ch/apis/atlas/information
- Lower Stages are available here: https://developer-int.sbb.ch/apis?all=&text=atlas&scopes=PUBLIC;INTERNAL

== Release Notes

include::../release-notes.adoc[]

= Line

== Get Line Overview - Successfully

include::{snippets}/line-controller-api-test/should-get-line-overview/auto-section.adoc[]

== Create Line - Successfully

include::{snippets}/line-controller-api-test/should-create-line-version/auto-section.adoc[]

== Covered Line - Successfully

include::{snippets}/line-controller-api-test/should-get-covered-lines/auto-section.adoc[]

== Covered LineVersion - Successfully

include::{snippets}/line-controller-api-test/should-get-covered-line-versions/auto-section.adoc[]

== Update Line - Successfully

include::{snippets}/line-controller-api-test/should-update-line-version/auto-section.adoc[]

== Skip Workflow on LineVersion - Successfully

include::{snippets}/line-controller-api-test/should-skip-workflow-on-line-version/auto-section.adoc[]

== Update Line with conflict error

include::{snippets}/line-controller-api-test/should-return-conflict-error-response/auto-section.adoc[]

== Update Line with not found error

include::{snippets}/line-controller-api-test/should-return-not-found-error-response/auto-section.adoc[]

== Update Line with no changes after versioning error

include::{snippets}/line-controller-api-test/should-return-validation-no-changes-error-response/auto-section.adoc[]

== Delete Line with related subline

include::{snippets}/line-controller-api-test/should-return-line-delete-conflict-error-response/auto-section.adoc[]

== Get Line with not found error

include::{snippets}/line-controller-api-test/should-return-not-found-error-response-when-no-found-lines/auto-section.adoc[]

== Get Subline Coverage

include::{snippets}/line-controller-api-test/should-get-subline-coverage/auto-section.adoc[]

= Export Line

include::../../../../base-atlas/documentation/amazon/Amazon_S3_Buckets_Users_Onboarding.adoc[]

== Export Full Line Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/line-controller-api-test/should-export-full-line-versions-csv/auto-section.adoc[]

== Export Actual Line Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/line-controller-api-test/should-export-actual-line-versions-csv/auto-section.adoc[]

== Export Timetable Year change Line Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/line-controller-api-test/should-export-future-timetable-line-versions-csv/auto-section.adoc[]

= Subline

== Get Subline Overview - Successfully

include::{snippets}/subline-controller-api-test/should-get-subline-overview/auto-section.adoc[]

== Create Subline - Successfully

include::{snippets}/subline-controller-api-test/should-create-subline/auto-section.adoc[]

== Create Subline with conflict error

include::{snippets}/subline-controller-api-test/should-return-conflict-error-response/auto-section.adoc[]

== Get Subline with not found error

include::{snippets}/subline-controller-api-test/should-return-not-found-error-response-when-no-found-lines/auto-section.adoc[]

== Update Subline with optimistic locking error

include::{snippets}/subline-controller-api-test/should-return-optimistic-locking-error-response/auto-section.adoc[]

== Update Subline with no changes after versioning error

include::{snippets}/subline-controller-api-test/should-return-validation-no-changes-error-response/auto-section.adoc[]

== Update Subline with conflict error

include::{snippets}/subline-controller-api-test/should-return-sub-line-assign-to-line-conflict-error-response/auto-section.adoc[]

== Create Subline with line range error

include::{snippets}/subline-controller-api-test/should-return-subline-outside-of-line-range/auto-section.adoc[]

== Get Subline Coverage

include::{snippets}/subline-controller-api-test/should-get-subline-coverage/auto-section.adoc[]

= Export Subline

include::../../../../base-atlas/documentation/amazon/Amazon_S3_Buckets_Users_Onboarding.adoc

== Export Full Subline Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/subline-controller-api-test/should-export-full-subline-versions-csv/auto-section.adoc[]

== Export Actual Subline Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/subline-controller-api-test/should-export-actual-subline-versions-csv/auto-section.adoc[]

== Export Timetable Year change Subline Versions Csv file to Amazon S3 Bucket

include::{snippets}/subline-controller-api-test/should-export-future-timetable-line-versions-csv/auto-section.adoc[]

= Timetable field number

== Search versions - Successfully

include::{snippets}/timetable-field-number-controller-api-test/should-return-one-timetable-field-number/auto-section.adoc[]

== Create version - Successfully

include::{snippets}/timetable-field-number-controller-api-test/should-create-timetable-field-number/auto-section.adoc[]

== Update version with rest optimistic locking error

include::{snippets}/timetable-field-number-controller-api-test/should-return-optimistic-locking-error-response/auto-section.adoc[]

== Update version with no changes after versioning error

include::{snippets}/timetable-field-number-controller-api-test/should-return-validation-no-changes-error-response/auto-section.adoc[]

== Get versions with not found error

include::{snippets}/timetable-field-number-controller-api-test/should-return-not-found-error-response-when-search-item-not-found/auto-section.adoc[]

== Get Line Snapshot Workflow Overview - Successfully

include::{snippets}/line-controller-api-test/should-get-line-version-snaphots/auto-section.adoc[]

== Get search versions with Invalid Sort Param

include::{snippets}/timetable-field-number-controller-exception-handling-test/should-return-bad-request-exception-on-invalid-sort-param/auto-section.adoc[]

= Export Timetable Field Number

include::../../../../base-atlas/documentation/amazon/Amazon_S3_Buckets_Users_Onboarding.adoc

== Export Full Timetable Field Number Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/timetable-field-number-controller-api-test/should-export-full-timetable-field-number-versions-csv/auto-section.adoc[]

== Export Actual Timetable Field Number Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/timetable-field-number-controller-api-test/should-export-actual-timetable-field-number-versions-csv/auto-section.adoc[]

== Export Timetable Year change Timetable Field Number Versions Csv and Zip file to Amazon S3 Bucket

include::{snippets}/timetable-field-number-controller-api-test/should-export-time-table-year-change-timetable-field-number-versions-csv/auto-section.adoc[]

= Future Timetable

For more information go to  https://www.fahrplanfelder.ch/en/explanations/timetable-year.html#c202[Timetable year] definition.

== Get Timetable Year change

include::{snippets}/timetable-year-change-controller-api-test/should-return-future-time-table/auto-section.adoc[]

== Get Timetable Year change - Error: param greater than 9999

include::{snippets}/timetable-year-change-controller-api-test/should-return-error-when-year-after9999/auto-section.adoc[]

== Get Timetable Year change - Error: param smaller than 1700

include::{snippets}/timetable-year-change-controller-api-test/should-return-error-when-year-before1700/auto-section.adoc[]

== Get Next Timetable Years change

include::{snippets}/timetable-year-change-controller-api-test/should-return-next-future-time-tables/auto-section.adoc[]

== Get Next Timetable Years change - Error: param greater than 100

include::{snippets}/timetable-year-change-controller-api-test/should-return-error-when-next-future-time-tables-is-more-than-hundred/auto-section.adoc[]

== Get Next Timetable Years change - Error: param smaller than 1

include::{snippets}/timetable-year-change-controller-api-test/should-return-error-when-next-future-time-tables-is-zero/auto-section.adoc[]


= Timetable Hearing - Year

== Create Hearing Year - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-create-hearing-year/auto-section.adoc[]

== Get Hearing Year - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-get-hearing-year/auto-section.adoc[]

== Get Hearing Years by Status - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-get-hearing-year-by-status/auto-section.adoc[]

== Start Hearing Year - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-start-hearing-year/auto-section.adoc[]

== Update Settings of Hearing Year - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-update-settings-of-hearing-year/auto-section.adoc[]

== Close Hearing Year - Successfully

include::{snippets}/timetable-hearing-year-controller-api-test/should-close-hearing-year/auto-section.adoc[]

= Timetable Hearing - Statements

== Create Hearing Statement - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-create-statement-without-documents/auto-section.adoc[]

== Create Hearing Statement from External (e.g. SKI Web)- Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-create-statement-external-from-ski-web/auto-section.adoc[]

== Create Hearing Statement with Documents - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-create-statement-with-two-documents/auto-section.adoc[]

== Get Hearing Statement - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-get-statement-by-id/auto-section.adoc[]

== Get Hearing Statements by Year - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-get-statement-by-hearing-year/auto-section.adoc[]

== Update Hearing Statement - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-update-statement/auto-section.adoc[]

== Update Hearing Statement adding documents - Successfully

include::{snippets}/timetable-hearing-statement-controller-api-test/should-update-statement-with-additional-documents/auto-section.adoc[]
