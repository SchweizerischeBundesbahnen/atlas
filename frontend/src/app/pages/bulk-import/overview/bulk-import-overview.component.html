<div class="">
<form [formGroup]="form">
  <h2 class="font-bold-2xl mb-4">
    Konfiguration
  </h2>
  <div class="col-12 d-flex">
    <div class="d-flex flex-column col-3 pe-3">
      <atlas-select
        [formGroup]="form"
        controlName="applicationType"
        label="{{ 'PAGES.BULK_IMPORT.APPLICATION' | translate }}"
        optionTranslateLabelPrefix="PAGES.BULK_IMPORT."
        [options]="optionsApplication"
      >
      </atlas-select>
    </div>
    <div class="d-flex flex-column col-3 pe-3">
      <atlas-select
        [formGroup]="form"
        controlName="objectType"
        label="{{ 'PAGES.BULK_IMPORT.OBJECT' | translate }}"
        optionTranslateLabelPrefix="PAGES.BULK_IMPORT."
        [options]="optionsObject"
      >
      </atlas-select>
    </div>
    <div class="d-flex flex-column col-3 pe-3">
      <atlas-select
        [formGroup]="form"
        controlName="importType"
        label="{{ 'PAGES.BULK_IMPORT.SCENARIO' | translate }}"
        optionTranslateLabelPrefix="PAGES.BULK_IMPORT."
        [options]="optionsScenario"
      >
      </atlas-select>
    </div>
  </div>
<!--  TODO: br entfernen-->
  <br>
  <div class="col-12 d-flex">
    <div class="d-flex flex-column col-3 pe-3">
      <p>
        {{ 'PAGES.BULK_IMPORT.IMPORT_EXECUTED_BY' | translate }}
      </p>
      <p>{{ userName }}</p>
    </div>
    <div class="d-flex flex-column col-3 pe-3">

      <mat-checkbox
        *ngIf="isAdmin"
        (change)="enableUserSelect($event.checked)"
        data-cy="checkboxBulkImport">
        {{ 'PAGES.BULK_IMPORT.IMPORT_FOR_SOMEONE_ELSE' | translate }}
      </mat-checkbox>

<!--TODO: User nur finden die berecht für die ausgewählte Applikation sind-->
<!--TODO: Mit PO abklären-->
      <app-user-select
        *ngIf="isUserSelectEnabled"
        [form]="form.controls.userSearchForm"
      ></app-user-select>

    </div>
    <div class="d-flex flex-column col-3 pe-3">
      <atlas-text-list
        [formGroup]="form"
        fieldLabel="PAGES.BULK_IMPORT.ADDITIONAL_IMPORT_REPORT"
        [required]="true"
        placeHolderText="TTH.STATEMENT.E_MAIL_ITEMS_LIMIT_REACHED"
        controlName="emails">
      </atlas-text-list>
    </div>

  </div>
</form>
</div>
<div class="ps-5 pt-5">
  <atlas-file-upload
    [(uploadedFiles)]="uploadedFiles"
    [maxFileCount]="2"
    [maxFileSize]="20 * 1024 * 1024"
    acceptedFileType="text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
  ></atlas-file-upload>

<!--  TODO: On click -->
  <atlas-button
    (buttonClicked)="test()"
    [footerEdit]="form.enabled"
    buttonDataCy="save"
    buttonText="COMMON.SAVE"
    buttonType="whiteFooterEdit"
    wrapperStyleClass="ms-3"
  ></atlas-button>
</div>

<atlas-detail-footer>
  <atlas-button
    (buttonClicked)="back()"
    [disabled]="false"
    buttonDataCy="back"
    buttonText="COMMON.BACK"
    buttonType="whiteFooterNonEdit"
  ></atlas-button>
</atlas-detail-footer>
