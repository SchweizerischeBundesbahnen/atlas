<form [formGroup]="form">
  @if (warningChipMessage) {
    <mat-chip-listbox>
      <mat-chip>
        <div class="bav-override-info mb-1">
          <i class="bi bi-exclamation-triangle-fill warn"></i>
          <span class="font-base">
        {{ warningChipMessage | translate }}
      </span>
        </div>
      </mat-chip>
    </mat-chip-listbox>
  }

  <div class="d-flex justify-content-between mt-2">
    <div class="col-5" [title]="form.controls.firstName.value??''">
      <atlas-text-field
        [formGroup]="form"
        [required]="true"
        controlName="firstName"
        fieldLabel="WORKFLOW.PERSON.FIRSTNAME"
      >
      </atlas-text-field>
    </div>
    <div class="col-5" [title]="form.controls.lastName.value??''">
      <atlas-text-field
        [formGroup]="form"
        [required]="true"
        controlName="lastName"
        fieldLabel="WORKFLOW.PERSON.LASTNAME"
      >
      </atlas-text-field>
    </div>
  </div>
  <div class="d-flex justify-content-between mb-3">
    <div class="col-5" [title]="form.controls.organisation.value??''">
      <atlas-text-field
        [formGroup]="form"
        [required]="true"
        controlName="organisation"
        fieldLabel="WORKFLOW.PERSON.ORGANISATION"
      >
      </atlas-text-field>
    </div>
    <div class="col-5" [title]="form.controls.personFunction.value??''">
      <atlas-text-field
        [formGroup]="form"
        [required]="true"
        controlName="personFunction"
        fieldLabel="WORKFLOW.PERSON.FUNCTION"
      >
      </atlas-text-field>
    </div>
  </div>

  @if (showJudgement) {
    <div class="mb-2">{{ 'WORKFLOW.DECISION.DECISION_INFO' | translate }}</div>
    <mat-radio-group formControlName="judgement" class="d-grid mb-3">
      <mat-radio-button [value]="JudgementType.Yes">
        {{ 'WORKFLOW.DECISION.ACCEPT' | translate }}
      </mat-radio-button>
      <mat-radio-button [value]="JudgementType.No">
        {{ 'WORKFLOW.DECISION.DECLINE' | translate }}
      </mat-radio-button>
      <app-atlas-field-error [form]="form" controlName="judgement"></app-atlas-field-error>
    </mat-radio-group>
  }

  <form-comment
    [formGroup]="form"
    [label]="'SEPODI.SERVICE_POINTS.WORKFLOW.COMMENT' | translate"
    controlName="motivation"
  ></form-comment>
</form>
