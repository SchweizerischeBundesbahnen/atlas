<div class="map-wrapper d-flex">
  <div class="map" #map></div>
  <button
    *ngIf="!showMapStyleSelection"
    mat-icon-button
    class="map-style-selector"
    (click)="openStyleSelection()"
  >
    <em class="bi bi-stack"></em>
  </button>
  <div *ngIf="showMapStyleSelection" class="map-style-selector map-styles d-flex flex-column">
    <button
      [ngClass]="{ current: style === currentMapStyle }"
      class="style-switch-button mb-1"
      (click)="switchToStyle(style)"
      *ngFor="let style of availableMapStyles"
    >
      {{ style.label | translate }}
    </button>
  </div>
  <button *ngIf="!showMapLegend" mat-icon-button class="map-legend-button" (click)="openLegend()">
    <em class="bi bi-info-circle-fill"></em>
  </button>
  <div *ngIf="showMapLegend" class="map-legend-button map-legend d-flex flex-column">
    <div class="legend-row d-flex flex-row align-items-center" *ngFor="let row of legend">
      <div class="image d-flex pe-2">
        <img [src]="row.icon.src" height="10px" width="10px" />
      </div>
      <div class="text d-flex">{{ row.id }}</div>
    </div>
  </div>
</div>
