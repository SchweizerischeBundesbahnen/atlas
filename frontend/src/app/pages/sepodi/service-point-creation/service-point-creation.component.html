<div class="pt-3 ps-3 pe-3">
  <div class="form-box p-3">
    <atlas-select
      label="COMMON.COUNTRIES"
      [additionalLabelspace]="false"
      [optionTranslateLabelPrefix]="'TTH.COUNTRY.'"
      [displayExtractor]="getCountryEnum"
      [options]="(countryOptions$ | async) ?? []"
      [required]="true"
      [formGroup]="form"
      [controlName]="'country'"
    >
    </atlas-select>

    <!-- todo: display didok-id (numberShort) field, disabled (automatic) else enabled -->
    <!--    <atlas-text-field-->
    <!--      [fieldExamples]="[-->
    <!--        { label: 'FORM.FOR_EXAMPLE', translate: true },-->
    <!--        { label: '57189 |', translate: false },-->
    <!--        { label: 'FORM.MAX_CHARS', translate: true, arg: { key: 'numberOfChars', value: '30' } }-->
    <!--      ]"-->
    <!--      [formGroup]="form"-->
    <!--      controlName="number"-->
    <!--      fieldLabel="SEPODI.SERVICE_POINTS.SERVICE_POINT_ID"-->
    <!--    >-->
    <!--    </atlas-text-field>-->

    <form [formGroup]="form">
      <input type="number" formControlName="number" />
      <app-atlas-field-error [form]="form" controlName="number"></app-atlas-field-error>
    </form>

    <service-point-form
      [form]="form"
      (selectedServicePointTypeChange)="servicePointTypeChanged$.next($event)"
      (geolocationToggleChange)="$event ? activateGeolocation($event) : deactivateGeolocation()"
    >
      <div class="color-gray-900" abbreviation>
        <atlas-text-field
          [fieldExamples]="[
            { label: 'FORM.FOR_EXAMPLE', translate: true },
            { label: 'BIBD |', translate: false },
            { label: 'FORM.MAX_CHARS', translate: true, arg: { key: 'numberOfChars', value: '6' } }
          ]"
          [formGroup]="form"
          [required]="false"
          controlName="abbreviation"
          fieldLabel="SEPODI.SERVICE_POINTS.ABBREVIATION"
        >
        </atlas-text-field>
      </div>
    </service-point-form>
  </div>

  <div class="footer-box">
    <footer class="d-flex justify-content-center align-items-center">
      <atlas-button
        (buttonClicked)="onCancel()"
        [footerEdit]="true"
        buttonDataCy="cancel"
        buttonText="COMMON.CANCEL"
        buttonType="whiteFooterEdit"
        wrapperStyleClass="ms-3"
      ></atlas-button>
      <atlas-button
        (click)="onSave()"
        [footerEdit]="true"
        [disabled]="!form.dirty"
        [submitButton]="true"
        buttonDataCy="save-item"
        buttonText="COMMON.SAVE"
        buttonType="whiteFooterEdit"
        wrapperStyleClass="ms-3"
      >
      </atlas-button>
    </footer>
  </div>
</div>
