<div *ngIf="!showEmptyTimeTableHearingComponent">
  <div class="white-table-container-no-tabs">
    <app-timetable-hearing-overview-tab-heading
      [cantonShort]="cantonShort"
      [foundTimetableHearingYear]="foundTimetableHearingYear"
      [hearingPlan]="hearingStatus"
    ></app-timetable-hearing-overview-tab-heading>

    <div class="d-flex flex-row col-12">
      <div *ngIf="hearingStatus !== 'active'" class="d-flex flex-column col-2 pe-3 pb-1">
        <mat-label class="font-bold-lg subtitle-margin"
          >{{ 'TTH.SELECT_YEAR' | translate }}
        </mat-label>
        <span class="fake-lable-space"></span>
        <div class="multi-select-search">
          <mat-select
            (selectionChange)="changeSelectedYear($event)"
            [(value)]="defaultYearSelection"
            data-cy="canton-type"
            placeholder="{{ 'FORM.DROPDOWN_PLACEHOLDER' | translate }}"
          >
            <mat-option *ngFor="let year of YEAR_OPTIONS" [value]="year">
              {{ year }}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div class="d-flex flex-column col-3 pe-3 pb-3 mb-5">
        <mat-label class="font-bold-lg subtitle-margin"
          >{{ 'TTH.SELECT_CANTON' | translate }}
        </mat-label>
        <span class="fake-lable-space"></span>
        <div class="multi-select-search">
          <mat-select
            (selectionChange)="changeSelectedCanton($event)"
            [(value)]="dafaultCantonSelection"
            data-cy="canton-type"
            placeholder="{{ 'FORM.DROPDOWN_PLACEHOLDER' | translate }}"
          >
            <mat-option *ngFor="let canton of CANTON_OPTIONS" [value]="canton">
              <img
                alt="canton-logo"
                class="pe-1"
                height="28"
                src="assets/images/cantons/{{ canton.toUpperCase() }}.svg"
                with="28"
              />
              {{ 'TTH.CANTON.' + canton | translate }}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div *ngIf="hearingStatus !== 'planned'" class="d-flex flex-column col-3">
        <span class="fake-lable-space"></span>
        <span class="fake-lable-space"></span>
        <atlas-button
          (buttonClicked)="downloadCsv()"
          applicationType="LIDI"
          buttonDataCy="download-csv"
          buttonText="TTH.BUTTON.DOWNLOAD_CSV"
          buttonType="createCheckingPermission"
        >
          <ng-template #rightIcon>
            <download-icon class="ps-2"></download-icon>
          </ng-template>
        </atlas-button>
      </div>
    </div>
    <div class="pb-3">
      <div>
        <span class="font-bold-lg">{{
          'TTH.TABLE_RESULT_HEADING'
            | translate
              : {
                  totalCount: totalCount$,
                  year: foundTimetableHearingYear.timetableYear
                }
        }}</span>
      </div>
      <div *ngIf="hearingStatus === 'planned'">
        <span
          >{{ this.foundTimetableHearingYear.hearingFrom | displayDate }}
          {{ 'COMMON.TO' | translate }}
          {{ this.foundTimetableHearingYear.hearingTo | displayDate }}</span
        >
      </div>
    </div>

    <app-table
      (editElementEvent)="editVersion($event)"
      (getTableElementsEvent)="getOverview($event)"
      [canEdit]="true"
      [isLoading]="isLoading"
      [tableColumns]="tableColumns"
      [tableData]="timeTableHearingStatements"
      [totalCount]="totalCount$"
      data-cy="ttfn"
    ></app-table>
    <router-outlet></router-outlet>
  </div>
</div>
<div *ngIf="showEmptyTimeTableHearingComponent">
  <span>
    No result found for <b>[{{ this.hearingStatus }} - {{ this.selectedCantonEnum }}]</b>
  </span>
</div>
