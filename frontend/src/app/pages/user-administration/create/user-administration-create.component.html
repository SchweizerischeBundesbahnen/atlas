<app-user-administration-detail
  [userLoaded]="userLoaded"
  [userHasAlreadyPermissions]="userHasAlreadyPermissions"
  [applicationConfigManager]="userPermissionManager"
>
  <h1 title class="font-bold-4xl mb-5">{{ 'USER_ADMIN.NEW' | translate }}</h1>
  <h2 subtitle class="font-bold-xl mb-2">{{ 'USER_ADMIN.NEW_INFORMATION' | translate }}</h2>

  <div user-select>
    <div class="d-flex flex-column">
      <mat-label class="font-bold-lg required-indicator">{{
        'USER_ADMIN.TABLE_HEADER' | translate
      }}</mat-label>
      <mat-label class="font-regular-sm">{{ 'FORM.FOR_EXAMPLE' | translate }} u123456</mat-label>
    </div>
    <app-user-select (selectionChange)="selectUser($event)"></app-user-select>
    <p *ngIf="userHasAlreadyPermissions" class="color-error">
      {{ 'USER_ADMIN.SELECTED_USER_HAS_ALREADY_PERMISSIONS' | translate }}
    </p>
    <p *ngIf="selectedUserHasNoUserId" class="color-error">
      {{ 'USER_ADMIN.SELECTED_USER_HAS_NO_USER_ID' | translate }}
    </p>
  </div>

  <ng-template #footerButtons let-confirm>
    <button
      class="atlas-primary-btn footer-btn"
      (click)="confirm(userLoaded && !userHasAlreadyPermissions)"
      data-cy="cancel"
    >
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button
      class="atlas-primary-btn footer-btn ms-3"
      data-cy="save"
      type="submit"
      (click)="createUser()"
      [disabled]="!userLoaded || userHasAlreadyPermissions"
    >
      {{ 'COMMON.SAVE' | translate }}
    </button>
  </ng-template>
</app-user-administration-detail>
