<div class="detail-wrapper-panel">
  <h1 *ngIf="!controller.showSwitch; else detailPageTitle">
    <strong>{{ headingNew | translate }}</strong>
  </h1>
  <ng-template #detailPageTitle>
    <h1 class="font-bold-4xl detail-title">{{ controller.getDetailHeading(controller.record) }}</h1>
    <h2>{{ controller.getDetailSubheading(controller.record) }}</h2>
  </ng-template>
  <app-switch-version
    *ngIf="controller.showSwitch"
    [records]="controller.records"
    [currentRecord]="controller.record"
    [pageType]="controller.getPageType()"
    [recordTitle]="controller.heading"
    [switchDisabled]="controller.form.enabled"
    (switchVersion)="controller.switchVersion($event)"
  ></app-switch-version>
  <div *ngIf="canEdit && controller.isExistingRecord()" class="edit-section mb-2">
    <button
      data-cy="edit-item"
      class="me-3"
      (click)="controller.toggleEdit()"
      [disabled]="controller.form.enabled"
    >
      {{ 'COMMON.EDIT' | translate }}
    </button>
    <button
      data-cy="delete-item"
      (click)="controller.delete()"
      [disabled]="controller.form.enabled"
    >
      {{ 'COMMON.DELETE' | translate }}
    </button>
  </div>

  <div class="detail-content">
    <ng-content></ng-content>
  </div>

  <div
    class="footer fixed-bottom d-flex align-items-center justify-content-end background-grey"
    *ngIf="controller.form.enabled"
  >
    <button mat-raised-button class="me-3" (click)="controller.toggleEdit()">
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button
      data-cy="save-item"
      mat-raised-button
      type="submit"
      class="me-3"
      color="primary"
      (click)="controller.save()"
      [disabled]="!controller.form.dirty"
    >
      {{ 'COMMON.SAVE' | translate }}
    </button>
  </div>
</div>
