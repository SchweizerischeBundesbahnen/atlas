<div *ngIf="!isAddWorkflowButtonDisabled">
  <atlas-button
    (buttonClicked)="showWorflow()"
    [disabled]="isAddWorkflowButtonDisabled"
    buttonDataCy="workflow-add"
    buttonText="WORKFLOW.ADD"
    buttonType="create"
    wrapperStyleClass="me-3"
  ></atlas-button>
</div>
<div *ngIf="showWorkflowData">
  <form [formGroup]="workflowForm">
    <div class="col-12 d-flex">
      <div class="d-flex flex-column col-5 pe-5">
        <div class="info-icon-position">
          <mat-label class="font-bold-lg">{{ 'WORKFLOW.COMMENT' | translate }} </mat-label>
          <form-info-icon infoTitle="{{ 'FORM.COMMENT_INFO' | translate }}"></form-info-icon>
        </div>
        <mat-label class="font-regular-sm">
          {{ 'FORM.TEXT' | translate }} |
          {{ 'FORM.MAX_CHARS' | translate: { numberOfChars: 1500 } }}
        </mat-label>
        <mat-form-field appearance="outline" class="atlas-text-area">
          <textarea data-cy="comment" formControlName="comment" matInput rows="7"></textarea>
          <mat-error fieldErrors></mat-error>
        </mat-form-field>
      </div>
      <div>
        <span class="font-bold-lg">{{ 'WORKFLOW.PERSON.DATA' | translate }}</span>
        <div class="col-12 d-flex">
          <div class="d-flex flex-column col-5 pe-3">
            <div class="info-icon-position">
              <mat-label class="font-bold-lg"
                >{{ 'WORKFLOW.PERSON.FIRSTNAME' | translate }}
              </mat-label>
            </div>
            <mat-form-field>
              <input data-cy="workflowPersonFirstName" formControlName="firstName" matInput />
              <mat-error fieldErrors></mat-error>
            </mat-form-field>
          </div>
          <div class="d-flex flex-column col-5 pe-3">
            <div class="info-icon-position">
              <mat-label class="font-bold-lg"
                >{{ 'WORKFLOW.PERSON.LASTNAME' | translate }}
              </mat-label>
            </div>
            <mat-form-field>
              <input data-cy="workflowPersonSecondName" formControlName="lastName" matInput />
              <mat-error fieldErrors></mat-error>
            </mat-form-field>
          </div>
          <div class="d-flex flex-column col-5 pe-3">
            <div class="info-icon-position">
              <mat-label class="font-bold-lg"
                >{{ 'WORKFLOW.PERSON.FUNCTION' | translate }}
              </mat-label>
            </div>
            <mat-form-field>
              <input data-cy="workflowPersonFunction" formControlName="function" matInput />
              <mat-error fieldErrors></mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="col-12 d-flex">
          <div class="d-flex flex-column col-5 pe-3">
            <div class="info-icon-position">
              <mat-label class="font-bold-lg">{{ 'WORKFLOW.PERSON.MAIL' | translate }} </mat-label>
            </div>
            <mat-form-field>
              <input data-cy="workflowPersonMail" formControlName="mail" matInput />
              <mat-error fieldErrors></mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div *ngIf="!isStartWorkflowButtonDisabled">
    <atlas-button
      (buttonClicked)="startWorflow()"
      [disabled]="isStartWorkflowButtonDisabled"
      buttonDataCy="workflow-start"
      buttonText="WORKFLOW.START"
      buttonType="create"
      wrapperStyleClass="me-3"
    ></atlas-button>
  </div>
</div>
